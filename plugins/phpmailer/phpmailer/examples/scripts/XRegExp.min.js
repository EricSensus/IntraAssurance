var XRegExp;if(XRegExp){throw Error("can't load XRegExp twice in the same frame")}(function(e){XRegExp=function(t,r){var a=[],p=XRegExp.OUTSIDE_CLASS,s=0,c,x,f,h,d;if(XRegExp.isRegExp(t)){if(r!==e)throw TypeError("can't supply flags when constructing one RegExp from another");return o(t)}if(i)throw Error("can't call the XRegExp constructor within token definition functions");r=r||"";c={hasNamedCapture:false,captureNames:[],hasFlag:function(e){return r.indexOf(e)>-1},setFlag:function(e){r+=e}};while(s<t.length){x=u(t,s,p,c);if(x){a.push(x.output);s+=x.match[0].length||1}else{if(f=l.exec.call(g[p],t.slice(s))){a.push(f[0]);s+=f[0].length}else{h=t.charAt(s);if(h==="[")p=XRegExp.INSIDE_CLASS;else if(h==="]")p=XRegExp.OUTSIDE_CLASS;a.push(h);s++}}}d=RegExp(a.join(""),l.replace.call(r,n,""));d._xregexp={source:t,captureNames:c.hasNamedCapture?c.captureNames:null};return d};XRegExp.version="1.5.1";XRegExp.INSIDE_CLASS=1;XRegExp.OUTSIDE_CLASS=2;var t=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,n=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,r=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,i=false,a=[],l={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},p=l.exec.call(/()??/,"")[1]===e,s=function(){var e=/^/g;l.test.call(e,"");return!e.lastIndex}(),c=RegExp.prototype.sticky!==e,g={};g[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/;g[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/;XRegExp.addToken=function(e,t,n,r){a.push({pattern:o(e,"g"+(c?"y":"")),handler:t,scope:n||XRegExp.OUTSIDE_CLASS,trigger:r||null})};XRegExp.cache=function(e,t){var n=e+"/"+(t||"");return XRegExp.cache[n]||(XRegExp.cache[n]=XRegExp(e,t))};XRegExp.copyAsGlobal=function(e){return o(e,"g")};XRegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};XRegExp.execAt=function(e,t,n,r){var i=o(t,"g"+(r&&c?"y":"")),a;i.lastIndex=n=n||0;a=i.exec(e);if(r&&a&&a.index!==n)a=null;if(t.global)t.lastIndex=a?i.lastIndex:0;return a};XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}};XRegExp.isRegExp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"};XRegExp.iterate=function(e,t,n,r){var i=o(t,"g"),a=-1,l;while(l=i.exec(e)){if(t.global)t.lastIndex=i.lastIndex;n.call(r,l,++a,e,t);if(i.lastIndex===l.index)i.lastIndex++}if(t.global)t.lastIndex=0};XRegExp.matchChain=function(e,t){return function e(n,r){var i=t[r].regex?t[r]:{regex:t[r]},a=o(i.regex,"g"),l=[],p;for(p=0;p<n.length;p++){XRegExp.iterate(n[p],a,function(e){l.push(i.backref?e[i.backref]||"":e[0])})}return r===t.length-1||!l.length?l:e(l,r+1)}([e],0)};RegExp.prototype.apply=function(e,t){return this.exec(t[0])};RegExp.prototype.call=function(e,t){return this.exec(t)};RegExp.prototype.exec=function(t){var n,r,i,a;if(!this.global)a=this.lastIndex;n=l.exec.apply(this,arguments);if(n){if(!p&&n.length>1&&f(n,"")>-1){i=RegExp(this.source,l.replace.call(x(this),"g",""));l.replace.call((t+"").slice(n.index),i,function(){for(var t=1;t<arguments.length-2;t++){if(arguments[t]===e)n[t]=e}})}if(this._xregexp&&this._xregexp.captureNames){for(var c=1;c<n.length;c++){r=this._xregexp.captureNames[c-1];if(r)n[r]=n[c]}}if(!s&&this.global&&!n[0].length&&this.lastIndex>n.index)this.lastIndex--}if(!this.global)this.lastIndex=a;return n};RegExp.prototype.test=function(e){var t,n;if(!this.global)n=this.lastIndex;t=l.exec.call(this,e);if(t&&!s&&this.global&&!t[0].length&&this.lastIndex>t.index)this.lastIndex--;if(!this.global)this.lastIndex=n;return!!t};String.prototype.match=function(e){if(!XRegExp.isRegExp(e))e=RegExp(e);if(e.global){var t=l.match.apply(this,arguments);e.lastIndex=0;return t}return e.exec(this)};String.prototype.replace=function(e,n){var r=XRegExp.isRegExp(e),i,a,p,s;if(r){if(e._xregexp)i=e._xregexp.captureNames;if(!e.global)s=e.lastIndex}else{e=e+""}if(Object.prototype.toString.call(n)==="[object Function]"){a=l.replace.call(this+"",e,function(){if(i){arguments[0]=new String(arguments[0]);for(var t=0;t<i.length;t++){if(i[t])arguments[0][i[t]]=arguments[t+1]}}if(r&&e.global)e.lastIndex=arguments[arguments.length-2]+arguments[0].length;return n.apply(null,arguments)})}else{p=this+"";a=l.replace.call(p,e,function(){var e=arguments;return l.replace.call(n+"",t,function(t,n,r){if(n){switch(n){case"$":return"$";case"&":return e[0];case"`":return e[e.length-1].slice(0,e[e.length-2]);case"'":return e[e.length-1].slice(e[e.length-2]+e[0].length);default:var a="";n=+n;if(!n)return t;while(n>e.length-3){a=String.prototype.slice.call(n,-1)+a;n=Math.floor(n/10)}return(n?e[n]||"":"$")+a}}else{var l=+r;if(l<=e.length-3)return e[l];l=i?f(i,r):-1;return l>-1?e[l+1]:t}})})}if(r){if(e.global)e.lastIndex=0;else e.lastIndex=s}return a};String.prototype.split=function(t,n){if(!XRegExp.isRegExp(t))return l.split.apply(this,arguments);var r=this+"",i=[],a=0,p,s;if(n===e||+n<0){n=Infinity}else{n=Math.floor(+n);if(!n)return[]}t=XRegExp.copyAsGlobal(t);while(p=t.exec(r)){if(t.lastIndex>a){i.push(r.slice(a,p.index));if(p.length>1&&p.index<r.length)Array.prototype.push.apply(i,p.slice(1));s=p[0].length;a=t.lastIndex;if(i.length>=n)break}if(t.lastIndex===p.index)t.lastIndex++}if(a===r.length){if(!l.test.call(t,"")||s)i.push("")}else{i.push(r.slice(a))}return i.length>n?i.slice(0,n):i};function o(e,t){if(!XRegExp.isRegExp(e))throw TypeError("type RegExp expected");var n=e._xregexp;e=XRegExp(e.source,x(e)+(t||""));if(n){e._xregexp={source:n.source,captureNames:n.captureNames?n.captureNames.slice(0):null}}return e}function x(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function u(e,t,n,r){var l=a.length,p,s,c;i=true;try{while(l--){c=a[l];if(n&c.scope&&(!c.trigger||c.trigger.call(r))){c.pattern.lastIndex=t;s=c.pattern.exec(e);if(s&&s.index===t){p={output:c.handler.call(r,s,n),match:s};break}}}}catch(e){throw e}finally{i=false}return p}function f(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++){if(e[r]===t)return r}return-1}XRegExp.addToken(/\(\?#[^)]*\)/,function(e){return l.test.call(r,e.input.slice(e.index+e[0].length))?"":"(?:)"});XRegExp.addToken(/\((?!\?)/,function(){this.captureNames.push(null);return"("});XRegExp.addToken(/\(\?<([$\w]+)>/,function(e){this.captureNames.push(e[1]);this.hasNamedCapture=true;return"("});XRegExp.addToken(/\\k<([\w$]+)>/,function(e){var t=f(this.captureNames,e[1]);return t>-1?"\\"+(t+1)+(isNaN(e.input.charAt(e.index+e[0].length))?"":"(?:)"):e[0]});XRegExp.addToken(/\[\^?]/,function(e){return e[0]==="[]"?"\\b\\B":"[\\s\\S]"});XRegExp.addToken(/^\(\?([imsx]+)\)/,function(e){this.setFlag(e[1]);return""});XRegExp.addToken(/(?:\s+|#.*)+/,function(e){return l.test.call(r,e.input.slice(e.index+e[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")});XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})();