$(function(){var e=$("#customer"),t=$("select[name=product]"),a=$('input[name="btnsubmit"]'),n=$("#quoteform"),s={product_id:null,initCustomer:function(){var t=SITE_PATH+"/ajax/admin/quotes/getcustomer";e.empty(),e.select2({minimumInputLength:2,theme:"bootstrap",placeholder:"Select a customer",allowClear:!0,ajax:{url:t,dataType:"json",delay:250,data:function(e){return{query:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.results,pagination:{more:30*t.page<e.total_count}}},cache:!0}}),e.on("select2:select",function(){s.selectCustomer()})},selectCustomer:function(){$data=e.select2("data")[0],$("input[name=email]").val($data.email),$("input[name=phone]").val($data.phone)}},i={names:null,id:null,initListener:function(){t.on("change",function(){i.setProductId(this.value)}),a.on("click",function(e){if(e.preventDefault(),i.names){var t=SITE_PATH+"/admin/myquote/new/"+i.names;n.attr("action",t),n.submit()}else alert("Select product please")})},setProductId:function(e){i.id=e,i.name()},name:function(){if(!i.id)return!1;switch(i.id){case"1":i.names="motor";break;case"5":i.names="accident";break;case"7":i.names="travel";break;case"8":i.names="domestic";break;case"9":i.names="medical"}}};s.initCustomer(),i.initListener()});