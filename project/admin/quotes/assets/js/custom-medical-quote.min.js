var Medical={tab:"tab2",addDependantTab:function(a){$(".tab22").removeClass("hide"),$("div#tab22").html(a)},removeDependantTab:function(){$(".tab22").addClass("hide")},generateQuote:function(a){$.ajax({url:a+"/admin/quote/getquote/medical",type:"GET",success:function(e){$(".med").html(e);var t=$(document).find("#input_quote_id").val();console.log(t),$(document).find("#proceed_with_policy").attr("href",a+"/admin/policies/createpolicy/"+t)}})}};$(function(){var a=$("#site_path").val();$(".datepicker").datepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,maxDate:"-15Y"}),$(document).find("input:radio, input:checkbox").css("display","inline"),$("button[name=btnsubmit], input[name=btnsubmit]").click(function(){e.isFormValid()});var e={isFormValid:function(){var e=!0;if($("input:required,select:required,textarea:required").each(function(){0==$.trim($(this).val()).length||"0.00"==$.trim($(this).val())?($(this).parent().addClass("form-group has-error"),e=!1):$(this).parent().removeClass("has-error")}),e){var t=!1;if($(".med").html($("span#preloader").html()),$(".tab4").removeClass("hide"),$("li > a[href=#tab4]").click(),$("form").each(function(){var a=$(this);$.ajax({url:a.attr("action"),type:"POST",data:a.serialize()+"&request_type=__ajax",async:!1,dataType:"json",success:function(a){t=!!a.success}})}),t)return Medical.generateQuote(a),!1}else{var n=$(".has-error:first").parents("div.tab-pane").attr("id");$("a[href=#"+n+"]").click()}}};$("#additional_covers").on("change",function(){var e=$(this),t=parseInt(e.val());t>=1?$.ajax({url:a+"/medical/load/"+t,type:"GET",dataType:"json",success:function(a){a.success&&Medical.addDependantTab(a.form.form)}}):Medical.removeDependantTab()}),$('[data-toggle="popover"]').popover({container:"body"}),$('input[name="core_plans"]').on("click",function(){$('input[name="core_plans"]').each(function(){$(this).parents("div.panel:first").removeClass("highlight-plan")}),$(this).parents("div.panel:first").addClass("highlight-plan")}),$('input[name="have_dependants"]').on("click",function(){Common.makeMandatory($(this).val(),"#additional_covers")}),$('input[name="ever_cover_declined"]').on("click",function(){Common.makeMandatory($(this).val(),"#declined_particulars")}),$('input[name="dependant_claimed_cover"]').on("click",function(){Common.makeMandatory($(this).val(),"#dep_claimed_particulars")});var t={autoFill:function(a){$.each(a,function(a,e){$("[name="+a+"]").val(e)})}};"undefined"!=typeof customer_data&&t.autoFill(customer_data)});